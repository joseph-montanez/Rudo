<h1>Tasks</h1>
<div class="table-responsive hidden-xs">
  <table class="table table-condensed">
    <thead>
      <tr>
        <th class="hidden-xs">#</th>
        <th>Name</th>
        <th>Priority</th>
        <th class="hidden-xs">User</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody class="table-striped">
      <% @tasks.each do |task| %>
        <tr>
          <td class="hidden-xs"><%= task.id %></td>
          <td>
            <%= raw tree_named_link task %>
          </td>
          <td><%= task.priority %></td>
          <td class="hidden-xs"><%= task.user.email %></td>
          <td><%= link_to 'Edit', edit_task_path(task) %></td>
          <td><%= link_to 'Destroy', task, method: :delete, data: { confirm: 'Are you sure? This will delete all sub tasks' } %></td>
        </tr>
      <% end %>
      <% if @tasks.length < 1 %>
        <tr>
          <td colspan="6">
            Looks like you have no tasks, why not add one?
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
<div class="visible-xs-block well">
  <div class="list-group">
    <% @tasks.each do |task| %>
      <div class="list-group-item">
        <%= raw tree_named_link task %>
      </div>
    <% end %>
    <% if @tasks.length < 1 %>
      <div class="list-group-item list-group-item-info">
        Looks like you have no tasks, why not add one?
      </div>
    <% end %>
  </div>
</div>
<div class="container-fluid">
  <div class="row">
    <div class="col-md-offset-5 col-sm-offset-5 col-xs-offset-3 col-sm-2 col-xs-6">
      <%= link_to 'Add Task', new_task_path, class: 'btn btn-primary center-block' %>
    </div>
  </div>
</div>